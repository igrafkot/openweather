# openweather
# –ü–æ–≥–æ–¥–Ω—ã–π –≤–∏–¥–∂–µ—Ç –¥–ª—è Waybar

![–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞](https://img.shields.io/badge/status-working-brightgreen) ![Python](https://img.shields.io/badge/python-3.7+-blue) ![–õ–∏—Ü–µ–Ω–∑–∏—è](https://img.shields.io/badge/license-MIT-green)

–ö—Ä–∞—Å–∏–≤—ã–π –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã –¥–ª—è Waybar —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥–Ω–æ–∑–æ–º.

## üìã –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥** —Å –∏–∫–æ–Ω–∫–∞–º–∏ Nerd Fonts
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- **–î–µ—Ç–∞–ª—å–Ω—ã–π —Ç—É–ª—Ç–∏–ø** —Å –ø–æ—á–∞—Å–æ–≤—ã–º –∏ –¥–Ω–µ–≤–Ω—ã–º –ø—Ä–æ–≥–Ω–æ–∑–æ–º
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–ª–Ω—Ü–µ** (–≤–æ—Å—Ö–æ–¥/–∑–∞–∫–∞—Ç)
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Å–∞–¥–∫–æ–≤** –≤ –ø–æ—á–∞—Å–æ–≤–æ–º –ø—Ä–æ–≥–Ω–æ–∑–µ

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
sudo pacman -S python-requests  # –¥–ª—è Arch Linux
# –∏–ª–∏
pip install requests
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nerd Fonts (–ø—Ä–∏–º–µ—Ä –¥–ª—è Arch)
yay -S nerd-fonts-complete
# –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç
yay -S ttf-nerd-fonts-symbols
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ:
```bash
mkdir -p ~/.config/waybar/scripts
cp weather.py ~/.config/waybar/scripts/
chmod +x ~/.config/waybar/scripts/weather.py
```

2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ [OpenWeatherMap](https://openweathermap.org/api)

3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∑–∞–º–µ–Ω–∏–≤ –∑–Ω–∞—á–µ–Ω–∏—è:
```python
latitude = 47.2364        # –í–∞—à–∞ —à–∏—Ä–æ—Ç–∞
longitude = 39.7139       # –í–∞—à–∞ –¥–æ–ª–≥–æ—Ç–∞
appid = "–≤–∞—à_api_–∫–ª—é—á"    # –í–∞—à API –∫–ª—é—á
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Waybar

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.config/waybar/config`:

```json
{
    "modules-left": [
        "custom/weather",
        // ... –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏
    ],
    "custom/weather": {
        "format": "{}",
        "return-type": "json",
        "interval": 300,  // –û–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
        "exec": "/path/to/your/openweather.py",
        "tooltip": true
    }
}
```

### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.config/waybar/style.css`:

```css
/* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–≥–æ–¥–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ */
#custom-weather {
    padding: 0 10px;
    border-radius: 5px;
    margin: 2px 5px;
    transition: all 0.3s ease;
}

#custom-weather.hot {
    color: #ff6b6b;
    background-color: rgba(255, 107, 107, 0.1);
}

#custom-weather.warm {
    color: #ffa502;
    background-color: rgba(255, 165, 2, 0.1);
}

#custom-weather.normal {
    color: #2ed573;
    background-color: rgba(46, 213, 115, 0.1);
}

#custom-weather.cool {
    color: #1e90ff;
    background-color: rgba(30, 144, 255, 0.1);
}

#custom-weather.cold {
    color: #70a1ff;
    background-color: rgba(112, 161, 255, 0.1);
}

#custom-weather.error {
    color: #ff4757;
    background-color: rgba(255, 71, 87, 0.1);
}
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã–≤–æ–¥–∞

### –ì–ª–∞–≤–Ω—ã–π –≤–∏–¥–∂–µ—Ç
```
Û∞ñï +18¬∞C
```
- –ò–∫–æ–Ω–∫–∞ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã
- –¢–µ–∫—É—â–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ–º

### –í—Å–ø–ª—ã–≤–∞—é—â–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞
```
–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É
–Ø—Å–Ω–æ Û∞ñô

–°–µ–π—á–∞—Å:
  ‚Ä¢ –°–µ–π—á–∞—Å: +18¬∞C
  ‚Ä¢ –û—â—É—â–∞–µ—Ç—Å—è: +17¬∞C
  ‚Ä¢ –í–µ—Ç–µ—Ä: 3.2 –º/—Å
  ‚Ä¢ –í–ª–∞–∂–Ω–æ—Å—Ç—å: 65%
  ‚Ä¢ –î–∞–≤–ª–µ–Ω–∏–µ: 1013 –≥–ü–∞
  ‚Ä¢ –û–±–ª–∞—á–Ω–æ—Å—Ç—å: 10%

–°–æ–ª–Ω—Ü–µ:
  ‚Ä¢ –í–æ—Å—Ö–æ–¥: 06:45
  ‚Ä¢ –ó–∞–∫–∞—Ç: 19:30

–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 24 —á–∞—Å–∞:
  ‚Ä¢ 15:00: +18¬∞C Û∞ñï
  ‚Ä¢ 18:00: +16¬∞C Û∞ñï ‚òî30%
  ‚Ä¢ 21:00: +14¬∞C Û∞º≥
  ‚Ä¢ ...

–ü–æ –¥–Ω—è–º:
  ‚Ä¢ –°–µ–≥–æ–¥–Ω—è: +12/+18¬∞C Û∞ñï —è—Å–Ω–æ
  ‚Ä¢ –ó–∞–≤—Ç—Ä–∞: +10/+16¬∞C Û∞ñê –æ–±–ª–∞—á–Ω–æ
  ‚Ä¢ 20.03 –°—Ä: +8/+14¬∞C Û∞ñó –¥–æ–∂–¥—å
```

## üé® –ò–∫–æ–Ω–∫–∏ –ø–æ–≥–æ–¥—ã

| –ö–æ–¥ | –î–µ–Ω—å | –ù–æ—á—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|------|------|----------|
| 01d | Û∞ñô | Û∞ñî | –Ø—Å–Ω–æ |
| 02d | Û∞ñï | Û∞º± | –ú–∞–ª–æ–æ–±–ª–∞—á–Ω–æ |
| 03d | Û∞ñê | Û∞ñê | –û–±–ª–∞—á–Ω–æ |
| 04d | Û∞ñë | Û∞ñë | –ü–∞—Å–º—É—Ä–Ω–æ |
| 09d | Û∞º≥ | Û∞º≥ | –õ–∏–≤–µ–Ω—å |
| 10d | Û∞ñó | Û∞ñó | –î–æ–∂–¥—å |
| 11d | Û∞ñì | Û∞ñì | –ì—Ä–æ–∑–∞ |
| 13d | Û∞ñò | Û∞ñò | –°–Ω–µ–≥ |
| 50d | Û∞ñë | Û∞ñë | –¢—É–º–∞–Ω |

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞

1. –ù–∞–π–¥–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–æ—Ä–æ–¥–∞ –Ω–∞ [latlong.net](https://www.latlong.net/)
2. –û–±–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å–∫—Ä–∏–ø—Ç–µ:
```python
latitude = 55.7558    # –ú–æ—Å–∫–≤–∞
longitude = 37.6173
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è

```python
units = "metric"   # –¶–µ–ª—å—Å–∏–π, –º/—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
units = "imperial" # –§–∞—Ä–µ–Ω–≥–µ–π—Ç, –º–∏–ª–∏/—á–∞—Å
units = "standard" # –ö–µ–ª—å–≤–∏–Ω, –º/—Å
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —è–∑—ã–∫–∞

1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Å–ª–æ–≤–∞—Ä—å `localization`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `lang`

```python
localization = {
    "en": {
        "feels_like": "Feels like",
        "wind": "Wind",
        # ... –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
    }
}
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é
python ~/.config/waybar/scripts/weather.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–≤–æ–¥–∞ JSON
python ~/.config/waybar/scripts/weather.py | jq .
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ù–µ—Ç –∏–∫–æ–Ω–æ–∫**:
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nerd Fonts
   - –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç –≤ CSS

2. **–û—à–∏–±–∫–∞ API**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤

3. **–°–∫—Ä–∏–ø—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞: `chmod +x weather.py`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ Waybar

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –°–º. [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## ü§ù –í–∫–ª–∞–¥

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏
3. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- [OpenWeatherMap API Documentation](https://openweathermap.org/api)
- [Waybar Documentation](https://github.com/Alexays/Waybar)
- [Nerd Fonts Cheatsheet](https://www.nerdfonts.com/cheat-sheet)

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–ª—è —Ä–∞–±–æ—Ç—ã –≤–∏–¥–∂–µ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–Ω—ã–π API –∫–ª—é—á OpenWeatherMap. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω –≤–∫–ª—é—á–∞–µ—Ç 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å. –î–µ–ª–∞–ª –¥–ª—è —Å–µ–±—è, –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–º—É-—Ç–æ –∏ –∑–∞–π–¥–µ—Ç. –û—Å—Ç–∞–≤–∏–ª —á—Ç–æ –±—ã –Ω–µ –∑–∞–±—ã—Ç—å, –∞ –Ω–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ :).
